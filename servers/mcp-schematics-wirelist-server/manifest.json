{
  "id": "schematics-wirelist",
  "name": "Schematics Wirelist Extractor",
  "description": "Analizza schemi elettrici PDF con modello vision, estrae lista fili, distinta componenti e siglatura morsettiere, e genera un file Excel multi-foglio pronto per la produzione. Basta fornire il percorso del PDF e la sigla del quadro (default +A1).",
  "author": "intelligencebox",
  "version": "1.1.0",
  "icon": "⚡️",
  "category": "engineering",
  "tags": ["electrical", "schematics", "wirelist", "excel", "ocr"],
  "dockerImage": "ghcr.io/intelligencebox-repo/mcp-schematics-wirelist-server:latest",
  "entrypoint": "node /app/dist/index.js",
  "configSchema": {
    "OPENROUTER_API_KEY": {
      "type": "string",
      "description": "API key per il proxy OpenRouter (proxy.intelligencebox.it).",
      "required": true
    },
    "OPENROUTER_MODEL": {
      "type": "string",
      "description": "Modello vision da utilizzare (default: openrouter/google/gemini-3-flash-preview).",
      "required": false
    },
    "OPENROUTER_BASE_URL": {
      "type": "string",
      "description": "Base URL del proxy OpenRouter (default: https://proxy.intelligencebox.it/v1).",
      "required": false
    },
    "PDF_RENDER_DPI": {
      "type": "number",
      "description": "DPI usati per convertire le pagine PDF in immagini (default 300). Aumentare se i numeri rossi dei fili risultano troppo piccoli.",
      "required": false,
      "default": 300
    },
    "PDF_RENDER_TILE_GRID": {
      "type": "number",
      "description": "Numero di tile per lato per ogni pagina (default 2 => 2x2). Aumentare se i numeri rossi sono molto piccoli; usare 1 per disattivare i tile.",
      "required": false,
      "default": 2
    },
    "DEFAULT_MAX_PAGES": {
      "type": "number",
      "description": "Numero massimo di pagine PDF da analizzare (fallback).",
      "required": false,
      "default": 300
    },
    "PROGRESS_WEBHOOK_URL": {
      "type": "string",
      "description": "URL webhook per notifiche di progresso (default: http://box-server:3001/api/mcp/progress).",
      "required": false
    }
  },
  "volumeMountsConfig": {
    "dataai": {
      "envVars": ["DATA_AI_PATH", "MOUNT_PATH", "FILE_DIRECTORY"],
      "description": "Directory principale per i file AI/documenti processati (schemi elettrici PDF)",
      "required": true
    },
    "output": {
      "envVars": ["OUTPUT_DIR", "OUTPUT_PATH"],
      "description": "Directory per output Excel generati",
      "required": false
    }
  },
  "dockerDefaults": {
    "needsFileAccess": true,
    "volumeMounts": {
      "dataai": "/dataai",
      "output": "/output"
    },
    "resources": {
      "memory": "1g",
      "cpus": "0.5"
    }
  },
  "longRunning": true,
  "requirements": {
    "minMemory": "512Mi",
    "minCpu": 0.3,
    "capabilities": ["network", "filesystem"]
  },
  "features": [
    "Estrazione di liste fili e distinte componenti da schemi PDF o immagini",
    "Conversione delle pagine PDF in immagini e invio al modello visivo per ogni scheda",
    "Generazione di file Excel con fogli LISTA FILI, DISTINTA, SIGLATURA e log testo grezzo",
    "Configurazioni per limitare il numero di pagine e scegliere il modello LLM",
    "Fallback con file Excel vuoto ma pronto per compilazione manuale"
  ]
}
